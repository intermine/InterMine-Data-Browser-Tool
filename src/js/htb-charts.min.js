Chart.defaults.global.defaultFontFamily='-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif',Chart.defaults.global.defaultFontColor="#292b2c";var ctx=document.getElementById("myPieChart"),pieOptions={events:!1,animation:{duration:500,easing:"easeOutQuart",onComplete:function(){var u=this.chart.ctx;u.font=Chart.helpers.fontString(Chart.defaults.global.defaultFontFamily,"normal",Chart.defaults.global.defaultFontFamily),u.textAlign="center",u.textBaseline="bottom",this.data.datasets.forEach(function(e){for(var t=0;t<e.data.length;t++){var n=e._meta[Object.keys(e._meta)[0]].data[t]._model,a=e._meta[Object.keys(e._meta)[0]].total,i=n.innerRadius+(n.outerRadius-n.innerRadius)/2,o=n.startAngle,r=o+(n.endAngle-o)/2,s=i*Math.cos(r),m=i*Math.sin(r);u.fillStyle="#fff",3==t&&(u.fillStyle="#444");var l=String(Math.round(e.data[t]/a*100))+"%";u.fillText(e.data[t],n.x+s,n.y+m),u.fillText(l,n.x+s,n.y+m+15)}})}}},numberGenes=0,numberDiseases=0,numberProteins=0,numberGoAnnotations=0,service=new imjs.Service({root:"http://www.humanmine.org/humanmine/service"}),query={from:"Gene",select:["primaryIdentifier"]};service.count(query).then(function(e){numberGenes=e;new imjs.Service({root:"http://www.humanmine.org/humanmine/service"}).count({from:"Protein",select:["primaryIdentifier"]}).then(function(e){numberProteins=e;new imjs.Service({root:"http://www.humanmine.org/humanmine/service"}).count({from:"Disease",select:["identifier"]}).then(function(e){numberDiseases=e;new imjs.Service({root:"http://www.humanmine.org/humanmine/service"}).count({from:"GOAnnotation",select:["annotationExtension"]}).then(function(e){new Chart(ctx,{type:"pie",data:{labels:["Genes","Diseases","Proteins","GO Annotations"],datasets:[{data:[numberGenes,numberDiseases,numberProteins,numberGoAnnotations=e],backgroundColor:["#007bff","#dc3545","#ffc107","#28a745"]}]},options:pieOptions})})})})});